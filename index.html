<html lang="zh-CN"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCL-90 症状自评量表测评</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <!-- 统一的 Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4a148c', // 暗紫色
                        secondary: '#7b1fa2', // 中紫色
                        accent: '#9c27b0', // 亮紫色
                        neutral: '#263238', // 深灰色
                        'neutral-light': '#eceff1', // 浅灰色
                        'neutral-dark': '#121212', // 近黑色
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-in': 'slideIn 0.5s ease-in-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideIn: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                    },
                    boxShadow: {
                        'glow': '0 0 15px rgba(156, 39, 176, 0.5)',
                    },
                    backdropBlur: {
                        xs: '2px',
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .text-shadow-lg {
                text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }
            .bg-gradient-primary {
                background: linear-gradient(135deg, #4a148c 0%, #9c27b0 100%);
            }
            .bg-gradient-dark {
                background: linear-gradient(135deg, #121212 0%, #263238 100%);
            }
            .transition-all-300 {
                transition: all 300ms ease-in-out;
            }
            .glass-effect {
                background: rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
            }
            .glass-effect-dark {
                background: rgba(18, 18, 18, 0.7);
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
        }
    </style>
    <style>
        body {
            background-color: #121212;
            color: #eceff1;
            font-family: 'Inter', system-ui, sans-serif;
        }
        
        .page {
            min-height: 100vh;
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .question-option input[type="radio"] {
            display: none;
        }
        
        .question-option label {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .question-option input[type="radio"]:checked + label {
            background-color: rgba(156, 39, 176, 0.3);
            border-color: #9c27b0;
            color: #e1bee7;
            box-shadow: 0 0 10px rgba(156, 39, 176, 0.5);
        }
        
        .progress-bar {
            height: 8px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #4a148c, #9c27b0);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .result-card {
            transition: all 0.3s ease;
        }
        
        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(156, 39, 176, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(156, 39, 176, 0); }
            100% { box-shadow: 0 0 0 0 rgba(156, 39, 176, 0); }
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: #263238;
            border-radius: 10px;
            max-width: 80%;
            max-height: 80%;
            overflow-y: auto;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .star-rating {
            display: flex;
            gap: 5px;
        }
        
        .star {
            color: #757575;
            transition: all 0.2s ease;
        }
        
        .star.active {
            color: #ffd700;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: rgba(38, 50, 56, 0.9);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        /* 自定义滚动条 */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(156, 39, 176, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(156, 39, 176, 0.7);
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="fixed top-0 left-0 right-0 z-50 glass-effect-dark">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <i class="fa fa-heartbeat text-accent text-2xl mr-2"></i>
                <h1 class="text-xl font-bold text-white">SCL-90 症状自评量表测评</h1>
            </div>
            <div class="hidden md:flex space-x-4">
                <button id="nav-intro" class="nav-btn px-3 py-1 rounded-full hover:bg-accent/20 transition-all-300">首页</button>
                <button id="nav-test" class="nav-btn px-3 py-1 rounded-full hover:bg-accent/20 transition-all-300">开始测试</button>
                <button id="nav-result" class="nav-btn px-3 py-1 rounded-full hover:bg-accent/20 transition-all-300">测试结果</button>
                <button id="nav-info" class="nav-btn px-3 py-1 rounded-full hover:bg-accent/20 transition-all-300">辅助说明</button>
            </div>
            <button id="mobile-menu-btn" class="md:hidden text-white text-xl">
                <i class="fa fa-bars"></i>
            </button>
        </div>
        <!-- 移动端菜单 -->
        <div id="mobile-menu" class="hidden md:hidden glass-effect-dark w-full">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-2">
                <button id="mobile-nav-intro" class="nav-btn px-3 py-2 rounded hover:bg-accent/20 transition-all-300 text-left">首页</button>
                <button id="mobile-nav-test" class="nav-btn px-3 py-2 rounded hover:bg-accent/20 transition-all-300 text-left">开始测试</button>
                <button id="mobile-nav-result" class="nav-btn px-3 py-2 rounded hover:bg-accent/20 transition-all-300 text-left">测试结果</button>
                <button id="mobile-nav-info" class="nav-btn px-3 py-2 rounded hover:bg-accent/20 transition-all-300 text-left">辅助说明</button>
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <main class="pt-16 pb-20">
        <!-- 首页/介绍页 -->
        <section id="page-intro" class="page active">
            <div class="relative min-h-screen flex items-center justify-center overflow-hidden">
                <div class="absolute inset-0 z-0">
                    <img src="https://p26-doubao-search-sign.byteimg.com/pgc-image/20190505154253999305310/3d2674858f48455b9539492965616354~tplv-be4g95zd3a-image.image" alt="心理测试背景" class="w-full h-full object-cover opacity-20">
                    <div class="absolute inset-0 bg-gradient-dark"></div>
                </div>
                
                <div class="container mx-auto px-4 z-10 py-16">
                    <div class="max-w-4xl mx-auto">
                        <div class="text-center mb-12">
                            <h2 class="text-2xl md:text-5xl font-bold mb-4 text-shadow-lg">SCL-90 症状自评量表</h2>
                            <p class="text-base md:text-xl text-neutral-light/80 max-w-2xl mx-auto">专业心理健康状况评估工具</p>
                        </div>
                        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <div class="glass-effect rounded-xl p-6 text-center transform hover:scale-105 transition-all-300 flex flex-col items-center">
                <div class="bg-accent/20 w-16 h-16 rounded-full flex items-center justify-center mb-4">
                    <i class="fa fa-line-chart text-accent text-2xl"></i>
                </div>
                <h3 class="text-xl md:text-2xl font-semibold mb-2">科学评估</h3>
                <p class="text-neutral-light/70 text-sm md:text-base">基于90项症状清单，从10个维度全面评估心理健康状况</p>
            </div>
            
            <div class="glass-effect rounded-xl p-6 text-center transform hover:scale-105 transition-all-300 flex flex-col items-center">
                <div class="bg-accent/20 w-16 h-16 rounded-full flex items-center justify-center mb-4">
                    <i class="fa fa-bar-chart text-accent text-2xl"></i>
                </div>
                <h3 class="text-xl md:text-2xl font-semibold mb-2">专业分析</h3>
                <p class="text-neutral-light/70 text-sm md:text-base">详细的结果解读和专业建议，帮助您了解自身心理状态</p>
            </div>
            
            <div class="glass-effect rounded-xl p-6 text-center transform hover:scale-105 transition-all-300 flex flex-col items-center">
                <div class="bg-accent/20 w-16 h-16 rounded-full flex items-center justify-center mb-4">
                    <i class="fa fa-lock text-accent text-2xl"></i>
                </div>
                <h3 class="text-xl md:text-2xl font-semibold mb-2">隐私保护</h3>
                <p class="text-neutral-light/70 text-sm md:text-base">所有测试数据仅存储在您的设备上，确保个人信息安全</p>
            </div>
        </div>
                        
                        <div class="glass-effect rounded-xl p-8 mb-12">
                            <h3 class="text-2xl font-semibold mb-4 flex items-center">
                                <i class="fa fa-info-circle text-accent mr-2"></i>
                                量表简介
                            </h3>
                            <p class="mb-4 text-neutral-light/80 text-justify">症状自评量表（SCL-90）是世界上最著名的心理健康测试量表之一，是当前使用最为广泛的精神障碍和心理疾病门诊检查量表。该量表由德若伽提斯（L.R.Derogatis）于1975年编制，包含90个项目，涵盖了广泛的精神病症状学内容。</p>
                            <p class="text-neutral-light/80 text-justify">SCL-90将从躯体化、强迫症状、人际关系敏感、抑郁、焦虑、敌对、恐怖、偏执、精神病性及其他10个维度来评估您的心理健康状况，帮助您全面了解自己的心理状态。</p>
                        </div>
                        
                        <div class="glass-effect rounded-xl p-8 mb-12">
                            <h3 class="text-2xl font-semibold mb-4 flex items-center">
                                <i class="fa fa-check-circle text-accent mr-2"></i>
                                测试须知
                            </h3>
                            <ul class="space-y-3 text-neutral-light/80">
                                <li class="flex items-start">
                                    <i class="fa fa-angle-right text-accent mt-1 mr-2"></i>
                                    <span>测试时间约为15-20分钟，请在安静环境下完成</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fa fa-angle-right text-accent mt-1 mr-2"></i>
                                    <span>请根据最近一周内的实际感受进行评分</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fa fa-angle-right text-accent mt-1 mr-2"></i>
                                    <span>测试结果仅供参考，不能替代专业心理咨询或诊断</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fa fa-angle-right text-accent mt-1 mr-2"></i>
                                    <span>如测试结果显示明显心理困扰，请及时寻求专业帮助</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="flex justify-center">
                            <button id="start-test-btn" class="bg-gradient-primary text-white px-8 py-3 rounded-full font-semibold text-lg shadow-glow hover:shadow-lg transition-all-300 pulse">
                                开始测试
                                <i class="fa fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 兑换码验证页 -->
        <section id="page-verify" class="page">
            <div class="relative min-h-screen flex items-center justify-center overflow-hidden">
                <div class="absolute inset-0 z-0">
                    <img src="https://p26-doubao-search-sign.byteimg.com/pgc-image/20190505154253999305310/3d2674858f48455b9539492965616354~tplv-be4g95zd3a-image.image" alt="心理测试背景" class="w-full h-full object-cover opacity-20">
                    <div class="absolute inset-0 bg-gradient-dark"></div>
                </div>
                
                <div class="container mx-auto px-4 z-10 py-16">
                    <div class="max-w-md mx-auto">
                        <div class="glass-effect rounded-xl p-8">
                            <div class="text-center mb-8">
                                <div class="bg-accent/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i class="fa fa-key text-accent text-3xl"></i>
                                </div>
                                <h2 class="text-2xl font-bold mb-2">兑换码验证</h2>
                                <p class="text-neutral-light/70">请输入您的兑换码以继续测试</p>
                            </div>
                            
                            <form id="verify-form" class="space-y-4">
                                <div>
                                    <label for="code" class="block text-sm font-medium text-neutral-light/80 mb-1">兑换码</label>
                                    <div class="relative">
                                        <input type="text" id="code" name="code" class="w-full px-4 py-2 rounded-lg bg-neutral-dark/50 border border-neutral-light/20 focus:border-accent focus:outline-none focus:ring-1 focus:ring-accent text-white" placeholder="请输入兑换码">
                                        <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                            <i class="fa fa-shield text-neutral-light/40"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="text-center">
                                    <button type="submit" class="w-full bg-gradient-primary text-white py-2 rounded-lg font-medium hover:shadow-glow transition-all-300">
                                        验证
                                    </button>
                                </div>
                                
                                <div class="text-center mt-4">
                                    <a href="https://www.xiaohongshu.com/user/profile/63888e240000000024009f51?xsec_token=YBE7gVpDYMhmFIi-aaHW_qvA3YDSKABj-xfGMrixgYZtc%3D&amp;xsec_source=app_share&amp;xhsshare=CopyLink&amp;shareRedId=ODk6ODtKNj02NzUyOTgwNjg3OTc9Szs6&amp;apptime=1761970220&amp;share_id=39cb8bcf722d42bc9ac2a8757d7e566c&amp;share_channel=copy_link" target="_blank" class="text-accent hover:underline text-sm flex items-center justify-center">
                                        <i class="fa fa-external-link mr-1"></i>
                                        获取兑换码
                                    </a>
                                </div>
                            </form>
                            
                            <div id="verify-error" class="mt-4 text-center text-red-400 hidden">
                                <i class="fa fa-exclamation-circle mr-1"></i>
                                <span>兑换码无效，请重新输入</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 测试答题页 -->
        <section id="page-test" class="page">
            <div class="relative min-h-screen flex flex-col overflow-hidden">
                <div class="absolute inset-0 z-0">
                    <img src="https://p26-doubao-search-sign.byteimg.com/pgc-image/20190505154253999305310/3d2674858f48455b9539492965616354~tplv-be4g95zd3a-image.image" alt="心理测试背景" class="w-full h-full object-cover opacity-10">
                    <div class="absolute inset-0 bg-gradient-dark"></div>
                </div>
                
                <div class="container mx-auto px-4 z-10 py-8 flex-grow">
                    <div class="max-w-3xl mx-auto">
                        <!-- 进度条 -->
                        <div class="mb-8">
                            <div class="flex justify-between items-center mb-2">
                                <div class="text-sm text-neutral-light/70">
                                    <span id="current-question">1</span>/90 题
                                </div>
                                <div class="text-sm text-neutral-light/70">
                                    <span id="completed-count">0</span> 题已完成
                                </div>
                            </div>
                            <div class="progress-bar">
                                <div id="progress-bar-fill" class="progress-bar-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <!-- 题目卡片 -->
                        <div class="glass-effect rounded-xl p-6 mb-8">
                            <div id="question-container">
                                <h3 id="question-text" class="text-xl font-medium mb-6">1. 头痛。</h3>
                                
                                <div class="grid grid-cols-1 md:grid-cols-5 gap-3">
                                    <div class="question-option">
                                        <input type="radio" id="option-1" name="answer" value="1">
                                        <label for="option-1" class="flex flex-col items-center justify-center p-4 rounded-lg border border-neutral-light/20 h-full">
                                            <span class="text-accent font-semibold text-lg">1</span>
                                            <span class="text-sm mt-1">没有</span>
                                        </label>
                                    </div>
                                    
                                    <div class="question-option">
                                        <input type="radio" id="option-2" name="answer" value="2">
                                        <label for="option-2" class="flex flex-col items-center justify-center p-4 rounded-lg border border-neutral-light/20 h-full">
                                            <span class="text-accent font-semibold text-lg">2</span>
                                            <span class="text-sm mt-1">很轻</span>
                                        </label>
                                    </div>
                                    
                                    <div class="question-option">
                                        <input type="radio" id="option-3" name="answer" value="3">
                                        <label for="option-3" class="flex flex-col items-center justify-center p-4 rounded-lg border border-neutral-light/20 h-full">
                                            <span class="text-accent font-semibold text-lg">3</span>
                                            <span class="text-sm mt-1">中等</span>
                                        </label>
                                    </div>
                                    
                                    <div class="question-option">
                                        <input type="radio" id="option-4" name="answer" value="4">
                                        <label for="option-4" class="flex flex-col items-center justify-center p-4 rounded-lg border border-neutral-light/20 h-full">
                                            <span class="text-accent font-semibold text-lg">4</span>
                                            <span class="text-sm mt-1">偏重</span>
                                        </label>
                                    </div>
                                    
                                    <div class="question-option">
                                        <input type="radio" id="option-5" name="answer" value="5">
                                        <label for="option-5" class="flex flex-col items-center justify-center p-4 rounded-lg border border-neutral-light/20 h-full">
                                            <span class="text-accent font-semibold text-lg">5</span>
                                            <span class="text-sm mt-1">严重</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 导航按钮 -->
                        <div class="flex justify-between">
                            <button id="prev-btn" class="px-6 py-2 rounded-lg border border-neutral-light/30 hover:bg-neutral-light/10 transition-all-300 disabled:opacity-50 disabled:cursor-not-allowed">
                                <i class="fa fa-arrow-left mr-2"></i>
                                上一题
                            </button>
                            
                            <button id="next-btn" class="px-6 py-2 rounded-lg bg-accent hover:bg-accent/80 transition-all-300">
                                下一题
                                <i class="fa fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 结果分析页 -->
        <section id="page-result" class="page">
            <div class="relative min-h-screen flex flex-col overflow-hidden">
                <div class="absolute inset-0 z-0">
                    <img src="https://p26-doubao-search-sign.byteimg.com/pgc-image/20190505154253999305310/3d2674858f48455b9539492965616354~tplv-be4g95zd3a-image.image" alt="心理测试背景" class="w-full h-full object-cover opacity-10">
                    <div class="absolute inset-0 bg-gradient-dark"></div>
                </div>
                
                <div class="container mx-auto px-4 z-10 py-8 flex-grow">
                    <div class="max-w-4xl mx-auto">
                        <div class="text-center mb-8">
                            <h2 class="text-3xl font-bold mb-2">测试结果分析</h2>
                            <p class="text-neutral-light/70">基于您的回答，我们生成了以下分析报告</p>
                        </div>
                        
                        <!-- 总体得分 -->
                        <div class="glass-effect rounded-xl p-6 mb-8">
                            <h3 class="text-xl font-semibold mb-4 flex items-center">
                                <i class="fa fa-tachometer text-accent mr-2"></i>
                                总体评估
                            </h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                <div class="bg-neutral-dark/50 rounded-lg p-4 text-center">
                                    <p class="text-neutral-light/70 text-sm mb-1">总分</p>
                                    <p id="total-score" class="text-2xl font-bold text-accent">0</p>
                                </div>
                                
                                <div class="bg-neutral-dark/50 rounded-lg p-4 text-center">
                                    <p class="text-neutral-light/70 text-sm mb-1">总均分</p>
                                    <p id="average-score" class="text-2xl font-bold text-accent">0.0</p>
                                </div>
                                
                                <div class="bg-neutral-dark/50 rounded-lg p-4 text-center">
                                    <p class="text-neutral-light/70 text-sm mb-1">阳性项目数</p>
                                    <p id="positive-count" class="text-2xl font-bold text-accent">0</p>
                                </div>
                            </div>
                            
                            <div id="overall-assessment" class="bg-neutral-dark/30 rounded-lg p-4">
                                <p class="text-neutral-light/80">请完成测试以查看总体评估</p>
                            </div>
                        </div>
                        
                        <!-- 图表分析 -->
                        <div class="glass-effect rounded-xl p-6 mb-8">
                            <h3 class="text-xl font-semibold mb-4 flex items-center">
                                <i class="fa fa-bar-chart text-accent mr-2"></i>
                                维度得分分析
                            </h3>
                            
                            <div class="mb-6">
                                <canvas id="radar-chart" height="300"></canvas>
                            </div>
                            
                            <div class="mb-6">
                                <canvas id="bar-chart" height="250"></canvas>
                            </div>
                        </div>
                        
                        <!-- 详细分析 -->
                        <div class="glass-effect rounded-xl p-6 mb-8">
                            <h3 class="text-xl font-semibold mb-4 flex items-center">
                                <i class="fa fa-list-alt text-accent mr-2"></i>
                                维度详细解读
                            </h3>
                            
                            <div id="dimensions-analysis" class="space-y-6">
                                <p class="text-neutral-light/70 text-center">请完成测试以查看详细分析</p>
                            </div>
                        </div>
                        
                        <!-- 专业建议 -->
                        <div class="glass-effect rounded-xl p-6 mb-8">
                            <h3 class="text-xl font-semibold mb-4 flex items-center">
                                <i class="fa fa-lightbulb-o text-accent mr-2"></i>
                                专业建议
                            </h3>
                            
                            <div id="professional-advice" class="bg-neutral-dark/30 rounded-lg p-4">
                                <p class="text-neutral-light/80">请完成测试以获取专业建议</p>
                            </div>
                        </div>
                        
                        <div class="flex justify-center">
                            <button id="restart-test-btn" class="bg-gradient-primary text-white px-8 py-3 rounded-full font-semibold shadow-glow hover:shadow-lg transition-all-300">
                                重新测试
                                <i class="fa fa-refresh ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 辅助说明页 -->
        <section id="page-info" class="page">
            <div class="relative min-h-screen flex flex-col overflow-hidden">
                <div class="absolute inset-0 z-0">
                    <img src="https://p26-doubao-search-sign.byteimg.com/pgc-image/20190505154253999305310/3d2674858f48455b9539492965616354~tplv-be4g95zd3a-image.image" alt="心理测试背景" class="w-full h-full object-cover opacity-10">
                    <div class="absolute inset-0 bg-gradient-dark"></div>
                </div>
                
                <div class="container mx-auto px-4 z-10 py-8 flex-grow">
                    <div class="max-w-3xl mx-auto">
                        <div class="text-center mb-12">
                            <h2 class="text-3xl font-bold mb-2">辅助说明</h2>
                            <p class="text-neutral-light/70">了解更多关于SCL-90测试的信息</p>
                        </div>
                        
                        <div class="glass-effect rounded-xl p-6 mb-8">
                            <h3 class="text-xl font-semibold mb-4 flex items-center">
                                <i class="fa fa-info-circle text-accent mr-2"></i>
                                测试结果的参考价值
                            </h3>
                            
                            <p class="mb-4 text-neutral-light/80">SCL-90症状自评量表是一种广泛应用于心理健康评估的工具，但其结果应被视为参考而非诊断依据。该量表主要用于：</p>
                            
                            <ul class="space-y-2 text-neutral-light/80 mb-4">
                                <li class="flex items-start">
                                    <i class="fa fa-check text-accent mt-1 mr-2"></i>
                                    <span>筛查可能存在的心理症状</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fa fa-check text-accent mt-1 mr-2"></i>
                                    <span>评估心理症状的严重程度</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fa fa-check text-accent mt-1 mr-2"></i>
                                    <span>监测心理状态的变化</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fa fa-check text-accent mt-1 mr-2"></i>
                                    <span>为专业心理咨询提供参考</span>
                                </li>
                            </ul>
                            
                            <p class="text-neutral-light/80">需要强调的是，SCL-90不能替代专业的心理诊断。如果您的测试结果显示明显的心理困扰，建议寻求专业心理咨询师或精神科医生的帮助。</p>
                        </div>
                        
                        <div class="glass-effect rounded-xl p-6 mb-8">
                            <h3 class="text-xl font-semibold mb-4 flex items-center">
                                <i class="fa fa-users text-accent mr-2"></i>
                                专业咨询渠道
                            </h3>
                            
                            <p class="mb-4 text-neutral-light/80">如果您需要专业的心理支持，可以通过以下渠道寻求帮助：</p>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div class="bg-neutral-dark/50 rounded-lg p-4">
                                    <h4 class="font-medium text-accent mb-2">全国统一心理援助热线</h4>
                                    <p class="text-neutral-light/80">24小时服务：<strong>12356</strong></p>
                                </div>
                                
                                <div class="bg-neutral-dark/50 rounded-lg p-4">
                                    <h4 class="font-medium text-accent mb-2">青少年心理热线</h4>
                                    <p class="text-neutral-light/80">共青团中央服务台：<strong>12355</strong></p>
                                </div>
                                
                                <div class="bg-neutral-dark/50 rounded-lg p-4">
                                    <h4 class="font-medium text-accent mb-2">心理危机干预热线</h4>
                                    <p class="text-neutral-light/80">北京心理危机研究与干预中心：<strong>010-82951332</strong></p>
                                </div>
                                
                                <div class="bg-neutral-dark/50 rounded-lg p-4">
                                    <h4 class="font-medium text-accent mb-2">自杀干预热线</h4>
                                    <p class="text-neutral-light/80">中国心理危机与自杀干预中心：<strong>010-62715275</strong></p>
                                </div>
                                
                                <div class="bg-neutral-dark/50 rounded-lg p-4">
                                    <h4 class="font-medium text-accent mb-2">医院心理科</h4>
                                    <p class="text-neutral-light/80">当地综合医院或精神专科医院心理科</p>
                                </div>
                                
                                <div class="bg-neutral-dark/50 rounded-lg p-4">
                                    <h4 class="font-medium text-accent mb-2">学校心理咨询中心</h4>
                                    <p class="text-neutral-light/80">各大高校均设有心理咨询中心，为学生提供免费服务</p>
                                </div>
                            </div>
                            
                            <p class="text-neutral-light/80">请记住，寻求帮助是勇敢的表现，专业的心理支持可以帮助您更好地应对生活中的挑战。</p>
                        </div>
                        
                        <div class="glass-effect rounded-xl p-6 mb-8">
                            <h3 class="text-xl font-semibold mb-4 flex items-center">
                                <i class="fa fa-question-circle text-accent mr-2"></i>
                                常见问题
                            </h3>
                            
                            <div class="space-y-4">
                                <div class="border-b border-neutral-light/10 pb-4">
                                    <h4 class="font-medium mb-2">SCL-90测试需要多长时间完成？</h4>
                                    <p class="text-neutral-light/70">通常情况下，完成90道题目需要15-20分钟。建议您在安静的环境中完成测试，以便更好地专注于自己的感受。</p>
                                </div>
                                
                                <div class="border-b border-neutral-light/10 pb-4">
                                    <h4 class="font-medium mb-2">测试结果多久有效？</h4>
                                    <p class="text-neutral-light/70">SCL-90测试结果反映的是您当前或最近一周的心理状态。如果您的生活环境或情绪状态发生重大变化，建议在1-3个月后重新测试，以获得更准确的评估。</p>
                                </div>
                                
                                <div class="border-b border-neutral-light/10 pb-4">
                                    <h4 class="font-medium mb-2">如何确保测试结果的准确性？</h4>
                                    <p class="text-neutral-light/70">为了获得准确的测试结果，请在测试过程中保持诚实，根据自己的真实感受进行评分，不要刻意选择"正确"的答案。同时，确保在测试过程中不受他人干扰。</p>
                                </div>
                                
                                <div>
                                    <h4 class="font-medium mb-2">测试结果显示我有心理问题，我该怎么办？</h4>
                                    <p class="text-neutral-light/70">如果您的测试结果显示明显的心理困扰，请不要过于担心。SCL-90只是一个筛查工具，不是诊断工具。建议您寻求专业心理咨询师或精神科医生的帮助，进行更全面的评估和专业的指导。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="glass-effect-dark py-6">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0 w-full md:w-auto flex flex-col items-center">
                    <div class="flex items-center">
                        <i class="fa fa-heartbeat text-accent text-xl mr-2"></i>
                        <h2 class="text-lg font-bold text-white">SCL-90 症状自评量表测评</h2>
                    </div>
                    <p class="text-neutral-light/50 text-sm mt-1 text-center">© 2025 SCL量子心理研究院 版权所有</p>
                </div>
                
                <div class="flex space-x-4 justify-center">
                    <a href="#" class="text-neutral-light/70 hover:text-accent transition-all-300">
                        <i class="fa fa-book mr-1"></i>
                        使用说明
                    </a>
                    <a href="#" class="text-neutral-light/70 hover:text-accent transition-all-300">
                        <i class="fa fa-shield mr-1"></i>
                        隐私政策
                    </a>
                    <a href="#" class="text-neutral-light/70 hover:text-accent transition-all-300">
                        <i class="fa fa-envelope mr-1"></i>
                        联系我们
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- 模态框 -->
    <div id="modal" class="modal">
        <div class="modal-content p-6 max-w-lg w-full">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-xl font-semibold">标题</h3>
                <button id="close-modal" class="text-neutral-light/70 hover:text-white">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div id="modal-content" class="text-neutral-light/80">
                <!-- 模态框内容将通过JavaScript动态填充 -->
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // 题目数据
        const questions = [
            { id: 1, text: "头痛。", dimension: "躯体化" },
            { id: 2, text: "神经过敏，心中不踏实。", dimension: "焦虑" },
            { id: 3, text: "头脑中有不必要的想法或字句盘旋。", dimension: "强迫症状" },
            { id: 4, text: "头昏或昏倒。", dimension: "躯体化" },
            { id: 5, text: "对异性的兴趣减退。", dimension: "抑郁" },
            { id: 6, text: "对旁人责备求全。", dimension: "人际关系敏感" },
            { id: 7, text: "感到别人能控制您的思想。", dimension: "精神病性" },
            { id: 8, text: "责怪别人制造麻烦。", dimension: "偏执" },
            { id: 9, text: "忘记性大。", dimension: "强迫症状" },
            { id: 10, text: "担心自己的衣饰整齐及仪态的端正。", dimension: "强迫症状" },
            { id: 11, text: "容易烦恼和激动。", dimension: "敌对" },
            { id: 12, text: "胸痛。", dimension: "躯体化" },
            { id: 13, text: "害怕空旷的场所或街道。", dimension: "恐怖" },
            { id: 14, text: "感到自己的精力下降，活动减慢。", dimension: "抑郁" },
            { id: 15, text: "想结束自己的生命。", dimension: "抑郁" },
            { id: 16, text: "听到旁人听不到的声音。", dimension: "精神病性" },
            { id: 17, text: "发抖。", dimension: "焦虑" },
            { id: 18, text: "感到大多数人都不可信任。", dimension: "偏执" },
            { id: 19, text: "胃口不好。", dimension: "其他" },
            { id: 20, text: "容易哭泣。", dimension: "抑郁" },
            { id: 21, text: "同异性相处时感到害羞不自在。", dimension: "人际关系敏感" },
            { id: 22, text: "感到受骗，中了圈套或有人想抓住您。", dimension: "偏执" },
            { id: 23, text: "无缘无故地突然感到害怕。", dimension: "焦虑" },
            { id: 24, text: "自己不能控制地大发脾气。", dimension: "敌对" },
            { id: 25, text: "怕单独出门。", dimension: "恐怖" },
            { id: 26, text: "经常责怪自己。", dimension: "抑郁" },
            { id: 27, text: "腰痛。", dimension: "躯体化" },
            { id: 28, text: "感到难以完成任务。", dimension: "强迫症状" },
            { id: 29, text: "感到孤独。", dimension: "抑郁" },
            { id: 30, text: "感到苦闷。", dimension: "抑郁" },
            { id: 31, text: "过分担忧。", dimension: "焦虑" },
            { id: 32, text: "对事物不感兴趣。", dimension: "抑郁" },
            { id: 33, text: "感到害怕。", dimension: "焦虑" },
            { id: 34, text: "您的感情容易受到伤害。", dimension: "人际关系敏感" },
            { id: 35, text: "旁人能知道您的私下想法。", dimension: "精神病性" },
            { id: 36, text: "感到别人不理解您、不同情您。", dimension: "人际关系敏感" },
            { id: 37, text: "感到人们对您不友好，不喜欢您。", dimension: "人际关系敏感" },
            { id: 38, text: "做事必须做得很慢以保证做得正确。", dimension: "强迫症状" },
            { id: 39, text: "心跳得很厉害。", dimension: "焦虑" },
            { id: 40, text: "恶心或胃部不舒服。", dimension: "躯体化" },
            { id: 41, text: "感到比不上他人。", dimension: "人际关系敏感" },
            { id: 42, text: "肌肉酸痛。", dimension: "躯体化" },
            { id: 43, text: "感到有人在监视您、谈论您。", dimension: "偏执" },
            { id: 44, text: "难以入睡。", dimension: "其他" },
            { id: 45, text: "做事必须反复检查。", dimension: "强迫症状" },
            { id: 46, text: "难以作出决定。", dimension: "强迫症状" },
            { id: 47, text: "怕乘电车、公共汽车、地铁或火车。", dimension: "恐怖" },
            { id: 48, text: "呼吸有困难。", dimension: "躯体化" },
            { id: 49, text: "一阵阵发冷或发热。", dimension: "躯体化" },
            { id: 50, text: "因为感到害怕而避开某些东西、场合或活动。", dimension: "恐怖" },
            { id: 51, text: "脑子变空了。", dimension: "强迫症状" },
            { id: 52, text: "身体发麻或刺痛。", dimension: "躯体化" },
            { id: 53, text: "喉咙有梗塞感。", dimension: "躯体化" },
            { id: 54, text: "感到前途没有希望。", dimension: "抑郁" },
            { id: 55, text: "不能集中注意。", dimension: "强迫症状" },
            { id: 56, text: "感到身体的某一部分软弱无力。", dimension: "躯体化" },
            { id: 57, text: "感到紧张或容易紧张。", dimension: "焦虑" },
            { id: 58, text: "感到手或脚发重。", dimension: "躯体化" },
            { id: 59, text: "想到死亡的事。", dimension: "其他" },
            { id: 60, text: "吃得太多。", dimension: "其他" },
            { id: 61, text: "当别人看着您或谈论您时感到不自在。", dimension: "人际关系敏感" },
            { id: 62, text: "有一些不属于您自己的想法。", dimension: "精神病性" },
            { id: 63, text: "有想打人或伤害他人的冲动。", dimension: "敌对" },
            { id: 64, text: "醒得太早。", dimension: "其他" },
            { id: 65, text: "必须反复洗手、点数目或触摸某些东西。", dimension: "强迫症状" },
            { id: 66, text: "睡得不稳不深。", dimension: "其他" },
            { id: 67, text: "有想摔坏或破坏东西的冲动。", dimension: "敌对" },
            { id: 68, text: "有一些别人没有的想法或念头。", dimension: "偏执" },
            { id: 69, text: "感到对别人神经过敏。", dimension: "人际关系敏感" },
            { id: 70, text: "在商店或电影院等人多的地方感到不自在。", dimension: "恐怖" },
            { id: 71, text: "感到任何事情都很困难。", dimension: "抑郁" },
            { id: 72, text: "一阵阵恐惧或惊恐。", dimension: "焦虑" },
            { id: 73, text: "感到在公共场合吃东西很不舒服。", dimension: "人际关系敏感" },
            { id: 74, text: "经常与人争论。", dimension: "敌对" },
            { id: 75, text: "单独一个人时神经很紧张。", dimension: "恐怖" },
            { id: 76, text: "别人对您的成绩没有作出恰当的评价。", dimension: "偏执" },
            { id: 77, text: "即使和别人在一起也感到孤单。", dimension: "抑郁" },
            { id: 78, text: "感到坐立不安心神不定。", dimension: "焦虑" },
            { id: 79, text: "感到自己没有什么价值。", dimension: "抑郁" },
            { id: 80, text: "感到熟悉的东西变成陌生或不象是真的。", dimension: "精神病性" },
            { id: 81, text: "大叫或摔东西。", dimension: "敌对" },
            { id: 82, text: "害怕会在公共场合昏倒。", dimension: "恐怖" },
            { id: 83, text: "感到别人想占您的便宜。", dimension: "偏执" },
            { id: 84, text: "为一些有关性的想法而很苦恼。", dimension: "精神病性" },
            { id: 85, text: "您认为应该因为自己的过错而受到惩罚。", dimension: "精神病性" },
            { id: 86, text: "感到要很快把事情做完。", dimension: "焦虑" },
            { id: 87, text: "感到自己的身体有严重问题。", dimension: "精神病性" },
            { id: 88, text: "从未感到和其他人很亲近。", dimension: "精神病性" },
            { id: 89, text: "感到自己有罪。", dimension: "其他" },
            { id: 90, text: "感到自己的脑子有毛病。", dimension: "精神病性" }
        ];

        // 维度说明
        const dimensions = {
            "躯体化": {
                description: "主要反映身体不适感，包括心血管、胃肠道、呼吸等系统的不适，以及头痛、背痛、肌肉酸痛等躯体症状。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在躯体化方面的得分较低，表明您当前没有明显的身体不适感。";
                    if (score <= 2.5) return "您在躯体化方面的得分中等偏低，可能存在轻微的身体不适感，但对日常生活影响不大。";
                    if (score <= 3.5) return "您在躯体化方面的得分中等偏高，可能存在较明显的身体不适感，如头痛、肌肉酸痛等症状，建议关注自己的身体状况。";
                    return "您在躯体化方面的得分较高，可能存在明显的身体不适感，这些症状可能与心理压力有关，建议寻求专业帮助。";
                }
            },
            "强迫症状": {
                description: "主要指那种明知没有必要，但又无法摆脱的无意义的思想、冲动、行为等表现，还有一些比较一般的感知障碍。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在强迫症状方面的得分较低，表明您当前没有明显的强迫症状。";
                    if (score <= 2.5) return "您在强迫症状方面的得分中等偏低，可能存在轻微的强迫思维或行为，但对日常生活影响不大。";
                    if (score <= 3.5) return "您在强迫症状方面的得分中等偏高，可能存在较明显的强迫症状，如反复检查、不必要的重复行为等，建议关注自己的思维模式。";
                    return "您在强迫症状方面的得分较高，可能存在明显的强迫症状，这些症状可能会影响您的日常生活，建议寻求专业帮助。";
                }
            },
            "人际关系敏感": {
                description: "主要指某些人际交往不自在、自卑感，担心别人会不会讨厌自己，会不会说自己的坏话，在人际交往中过分的小心翼翼和不自在。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在人际关系敏感方面的得分较低，表明您在人际交往中感到自在和自信。";
                    if (score <= 2.5) return "您在人际关系敏感方面的得分中等偏低，可能在某些社交场合会感到轻微的不自在，但总体上能够良好地处理人际关系。";
                    if (score <= 3.5) return "您在人际关系敏感方面的得分中等偏高，可能在人际交往中存在明显的不安全感和自卑感，建议尝试提升社交技能和自信心。";
                    return "您在人际关系敏感方面的得分较高，可能存在严重的人际交往困扰，如过度敏感、难以信任他人等，建议寻求专业帮助。";
                }
            },
            "抑郁": {
                description: "主要指情绪低落、沮丧、自我评价降低等情感症状，以及缺乏兴趣、缺乏快感、自责、自杀观念等表现。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在抑郁方面的得分较低，表明您当前情绪状态良好，没有明显的抑郁症状。";
                    if (score <= 2.5) return "您在抑郁方面的得分中等偏低，可能偶尔会感到情绪低落，但很快能够恢复，对日常生活影响不大。";
                    if (score <= 3.5) return "您在抑郁方面的得分中等偏高，可能存在较明显的抑郁症状，如持续的情绪低落、兴趣减退等，建议关注自己的情绪健康。";
                    return "您在抑郁方面的得分较高，可能存在明显的抑郁症状，如持续的悲伤、无望感等，这些症状可能会影响您的日常生活，建议寻求专业帮助。";
                }
            },
            "焦虑": {
                description: "主要指莫名其妙的担心、紧张、害怕、恐惧，也可以有一些植物神经功能紊乱的表现，比如心慌、手抖、出汗、尿频等。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在焦虑方面的得分较低，表明您当前情绪稳定，没有明显的焦虑症状。";
                    if (score <= 2.5) return "您在焦虑方面的得分中等偏低，可能偶尔会感到紧张或担心，但很快能够缓解，对日常生活影响不大。";
                    if (score <= 3.5) return "您在焦虑方面的得分中等偏高，可能存在较明显的焦虑症状，如过度担心、紧张不安等，建议尝试放松技巧来缓解焦虑。";
                    return "您在焦虑方面的得分较高，可能存在明显的焦虑症状，如持续的紧张、恐惧等，这些症状可能会影响您的日常生活，建议寻求专业帮助。";
                }
            },
            "敌对": {
                description: "主要指思想、感情及行为上的敌对，表现为厌烦、争论、摔东西、直至不可控制的脾气暴躁、咒骂、殴打等。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在敌对方面的得分较低，表明您当前情绪稳定，没有明显的敌对倾向。";
                    if (score <= 2.5) return "您在敌对方面的得分中等偏低，可能偶尔会感到烦躁或不满，但能够较好地控制自己的情绪。";
                    if (score <= 3.5) return "您在敌对方面的得分中等偏高，可能存在较明显的敌对情绪，如容易生气、对他人抱有敌意等，建议尝试情绪管理技巧。";
                    return "您在敌对方面的得分较高，可能存在明显的敌对情绪和行为倾向，这些可能会影响您的人际关系和生活质量，建议寻求专业帮助。";
                }
            },
            "恐怖": {
                description: "主要指对特定的对象，如人、物或场景的恐惧，可能会出现回避这些对象的行为。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在恐怖方面的得分较低，表明您当前没有明显的恐惧症状。";
                    if (score <= 2.5) return "您在恐怖方面的得分中等偏低，可能对某些事物或场景有轻微的不适感，但不会刻意回避。";
                    if (score <= 3.5) return "您在恐怖方面的得分中等偏高，可能对某些事物或场景存在明显的恐惧，可能会采取回避行为，建议尝试逐步面对恐惧。";
                    return "您在恐怖方面的得分较高，可能存在明显的恐怖症状，如对特定场景或事物的强烈恐惧和回避行为，这些可能会影响您的日常生活，建议寻求专业帮助。";
                }
            },
            "偏执": {
                description: "主要指对他人的不信任、猜疑，把别人的好意当坏意，怀疑别人会伤害自己等。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在偏执方面的得分较低，表明您对他人持信任态度，没有明显的猜疑倾向。";
                    if (score <= 2.5) return "您在偏执方面的得分中等偏低，可能偶尔会对他人的动机产生轻微的怀疑，但总体上能够信任他人。";
                    if (score <= 3.5) return "您在偏执方面的得分中等偏高，可能存在较明显的猜疑倾向，如怀疑他人的动机、担心被利用等，建议尝试增强对他人的信任。";
                    return "您在偏执方面的得分较高，可能存在明显的偏执症状，如对他人的强烈不信任、被害妄想等，这些可能会影响您的人际关系，建议寻求专业帮助。";
                }
            },
            "精神病性": {
                description: "主要指幻听、妄想等精神病性症状，需要注意的是，这里的精神病性症状，并不代表就一定是精神分裂症或其他精神病性障碍，而只是一种描述症状的方式。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在精神病性方面的得分较低，表明您当前没有明显的精神病性症状。";
                    if (score <= 2.5) return "您在精神病性方面的得分中等偏低，可能存在轻微的感知异常，但对日常生活影响不大。";
                    if (score <= 3.5) return "您在精神病性方面的得分中等偏高，可能存在一些精神病性症状，如奇怪的想法、感知异常等，建议关注自己的思维和感知状态。";
                    return "您在精神病性方面的得分较高，可能存在明显的精神病性症状，如幻觉、妄想等，这些可能会影响您的认知功能和日常生活，建议寻求专业帮助。";
                }
            },
            "其他": {
                description: "主要指睡眠、饮食等方面的问题，以及一些难以归类到前面9个维度的其他症状表现。",
                interpretation: function(score) {
                    if (score <= 1.5) return "您在睡眠、饮食等方面的得分较低，表明您的生活习惯良好，没有明显的睡眠或饮食问题。";
                    if (score <= 2.5) return "您在睡眠、饮食等方面的得分中等偏低，可能存在轻微的睡眠或饮食问题，但对日常生活影响不大。";
                    if (score <= 3.5) return "您在睡眠、饮食等方面的得分中等偏高，可能存在较明显的睡眠或饮食问题，如入睡困难、食欲不振等，建议调整生活习惯。";
                    return "您在睡眠、饮食等方面的得分较高，可能存在明显的睡眠或饮食问题，这些问题可能会影响您的身心健康，建议寻求专业帮助。";
                }
            }
        };

        // 有效兑换码列表
        const validCodes = ["7Gt5Bz3Rn", "2pQ8Ws6Hk", "9Dv4Xc7Mj", "F6r3Nt8Yb", "4Lw7Ek2Qz", "X5s3Gd9Vp", "6Hj2Rf5Tc", "Z9m4Bq7Ws", "3Yk6Dv8En", "Q7x5Fp3Lt"];

        // 应用状态
        const appState = {
            currentPage: 'page-intro',
            currentQuestionIndex: 0,
            answers: [],
            completedQuestions: 0,
            isCodeVerified: false,
            
            // 从本地存储加载状态
            loadFromLocalStorage: function() {
                const savedState = localStorage.getItem('scl90TestState');
                if (savedState) {
                    const parsedState = JSON.parse(savedState);
                    this.answers = parsedState.answers || [];
                    this.currentQuestionIndex = parsedState.currentQuestionIndex || 0;
                    this.completedQuestions = parsedState.completedQuestions || 0;
                    this.isCodeVerified = parsedState.isCodeVerified || false;
                }
            },
            
            // 保存状态到本地存储
            saveToLocalStorage: function() {
                const state = {
                    answers: this.answers,
                    currentQuestionIndex: this.currentQuestionIndex,
                    completedQuestions: this.completedQuestions,
                    isCodeVerified: this.isCodeVerified
                };
                localStorage.setItem('scl90TestState', JSON.stringify(state));
            },
            
            // 重置测试状态
            resetTestState: function() {
                this.answers = [];
                this.currentQuestionIndex = 0;
                this.completedQuestions = 0;
                this.saveToLocalStorage();
            }
        };

        // DOM 元素
        const elements = {
            pages: document.querySelectorAll('.page'),
            navButtons: document.querySelectorAll('.nav-btn'),
            mobileMenuBtn: document.getElementById('mobile-menu-btn'),
            mobileMenu: document.getElementById('mobile-menu'),
            startTestBtn: document.getElementById('start-test-btn'),
            verifyForm: document.getElementById('verify-form'),
            verifyError: document.getElementById('verify-error'),
            questionText: document.getElementById('question-text'),
            radioOptions: document.querySelectorAll('input[name="answer"]'),
            prevBtn: document.getElementById('prev-btn'),
            nextBtn: document.getElementById('next-btn'),
            currentQuestion: document.getElementById('current-question'),
            completedCount: document.getElementById('completed-count'),
            progressBarFill: document.getElementById('progress-bar-fill'),
            restartTestBtn: document.getElementById('restart-test-btn'),
            modal: document.getElementById('modal'),
            modalTitle: document.getElementById('modal-title'),
            modalContent: document.getElementById('modal-content'),
            closeModal: document.getElementById('close-modal')
        };

        // 页面导航函数
        function navigateTo(pageId) {
            // 如果未验证兑换码且尝试进入测试页面，则显示兑换码验证页
            if (!appState.isCodeVerified && pageId === 'page-test') {
                pageId = 'page-verify';
            }
            
            // 如果未完成测试且尝试进入结果页面，则不允许
            if (appState.completedQuestions < 90 && pageId === 'page-result') {
                showModal('提示', '请先完成所有测试题目，再查看结果。');
                return;
            }
            
            // 更新当前页面
            appState.currentPage = pageId;
            
            // 更新页面显示
            elements.pages.forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            // 更新导航按钮状态
            elements.navButtons.forEach(btn => {
                btn.classList.remove('bg-accent/20');
            });
            document.querySelectorAll(`[id^="nav-${pageId.replace('page-', '')}"]`).forEach(btn => {
                btn.classList.add('bg-accent/20');
            });
            
            // 如果是结果页面，计算并显示结果
            if (pageId === 'page-result') {
                calculateAndDisplayResults();
            }
            
            // 关闭移动端菜单
            elements.mobileMenu.classList.add('hidden');
        }

        // 显示模态框
        function showModal(title, content) {
            elements.modalTitle.textContent = title;
            elements.modalContent.innerHTML = content;
            elements.modal.classList.add('active');
        }

        // 隐藏模态框
        function hideModal() {
            elements.modal.classList.remove('active');
        }

        // 更新题目显示
        function updateQuestionDisplay() {
            const currentQuestion = questions[appState.currentQuestionIndex];
            elements.questionText.textContent = `${currentQuestion.id}. ${currentQuestion.text}`;
            
            // 更新当前题目指示器
            elements.currentQuestion.textContent = currentQuestion.id;
            
            // 更新进度条
            const progressPercentage = (appState.currentQuestionIndex / questions.length) * 100;
            elements.progressBarFill.style.width = `${progressPercentage}%`;
            
            // 更新已完成题目计数
            elements.completedCount.textContent = appState.completedQuestions;
            
            // 更新导航按钮状态
            elements.prevBtn.disabled = appState.currentQuestionIndex === 0;
            
            // 如果是最后一题，更改"下一题"按钮文本为"提交"
            if (appState.currentQuestionIndex === questions.length - 1) {
                elements.nextBtn.textContent = '提交';
                elements.nextBtn.innerHTML = '提交 <i class="fa fa-check ml-2"></i>';
            } else {
                elements.nextBtn.textContent = '下一题';
                elements.nextBtn.innerHTML = '下一题 <i class="fa fa-arrow-right ml-2"></i>';
            }
            
            // 显示之前选择的答案
            const savedAnswer = appState.answers[appState.currentQuestionIndex];
            elements.radioOptions.forEach(radio => {
                radio.checked = radio.value === savedAnswer;
            });
        }

        // 保存当前答案
        function saveCurrentAnswer() {
            const selectedOption = document.querySelector('input[name="answer"]:checked');
            if (selectedOption) {
                const previousAnswer = appState.answers[appState.currentQuestionIndex];
                appState.answers[appState.currentQuestionIndex] = selectedOption.value;
                
                // 如果之前没有回答过这道题，增加已完成题目计数
                if (!previousAnswer) {
                    appState.completedQuestions++;
                }
            }
        }

        // 计算并显示测试结果
        function calculateAndDisplayResults() {
            // 计算各维度得分
            const dimensionScores = {
                "躯体化": 0,
                "强迫症状": 0,
                "人际关系敏感": 0,
                "抑郁": 0,
                "焦虑": 0,
                "敌对": 0,
                "恐怖": 0,
                "偏执": 0,
                "精神病性": 0,
                "其他": 0
            };
            
            const dimensionCounts = {
                "躯体化": 12,
                "强迫症状": 10,
                "人际关系敏感": 9,
                "抑郁": 13,
                "焦虑": 10,
                "敌对": 6,
                "恐怖": 7,
                "偏执": 6,
                "精神病性": 10,
                "其他": 7
            };
            
            // 计算各维度总分
            for (let i = 0; i < questions.length; i++) {
                const question = questions[i];
                const answer = appState.answers[i] || 1; // 如果没有回答，默认为1分
                dimensionScores[question.dimension] += parseInt(answer);
            }
            
            // 计算各维度平均分
            const dimensionAverages = {};
            for (const dimension in dimensionScores) {
                dimensionAverages[dimension] = (dimensionScores[dimension] / dimensionCounts[dimension]).toFixed(2);
            }
            
            // 计算总分和总均分
            let totalScore = 0;
            for (const score of appState.answers) {
                totalScore += parseInt(score);
            }
            const averageScore = (totalScore / questions.length).toFixed(2);
            
            // 计算阳性项目数
            let positiveCount = 0;
            for (const score of appState.answers) {
                if (parseInt(score) >= 2) {
                    positiveCount++;
                }
            }
            
            // 更新UI显示
            document.getElementById('total-score').textContent = totalScore;
            document.getElementById('average-score').textContent = averageScore;
            document.getElementById('positive-count').textContent = positiveCount;
            
            // 更新总体评估
            const overallAssessment = document.getElementById('overall-assessment');
            if (totalScore <= 160) {
                overallAssessment.innerHTML = `<p class="text-neutral-light/80">您的总分较低（${totalScore}分），表明您当前的心理健康状况良好，没有明显的心理症状困扰。</p>`;
            } else if (totalScore <= 200) {
                overallAssessment.innerHTML = `<p class="text-neutral-light/80">您的总分中等（${totalScore}分），可能存在一些轻微的心理症状，但总体上不影响日常生活。建议关注自己的心理健康，适当调整生活方式。</p>`;
            } else if (totalScore <= 300) {
                overallAssessment.innerHTML = `<p class="text-neutral-light/80">您的总分较高（${totalScore}分），可能存在较多的心理症状，建议关注自己的心理健康状况，必要时寻求专业心理咨询。</p>`;
            } else {
                overallAssessment.innerHTML = `<p class="text-neutral-light/80">您的总分显著偏高（${totalScore}分），可能存在明显的心理困扰，建议尽快寻求专业心理咨询或治疗。</p>`;
            }
            
            // 更新维度详细解读
            const dimensionsAnalysis = document.getElementById('dimensions-analysis');
            dimensionsAnalysis.innerHTML = '';
            
            for (const dimension in dimensionAverages) {
                const score = parseFloat(dimensionAverages[dimension]);
                const dimensionCard = document.createElement('div');
                dimensionCard.className = 'bg-neutral-dark/30 rounded-lg p-4 mx-auto max-w-3xl';
                
                // 计算得分等级
                let scoreLevel = '';
                let scoreClass = '';
                if (score <= 1.5) {
                    scoreLevel = '低';
                    scoreClass = 'text-green-400';
                } else if (score <= 2.5) {
                    scoreLevel = '中低';
                    scoreClass = 'text-blue-400';
                } else if (score <= 3.5) {
                    scoreLevel = '中高';
                    scoreClass = 'text-yellow-400';
                } else {
                    scoreLevel = '高';
                    scoreClass = 'text-red-400';
                }
                
                dimensionCard.innerHTML = `
                    <div class="flex justify-between items-center mb-2 text-center">
                            <h4 class="font-medium text-center flex-1">${dimension}</h4>
                            <span class="${scoreClass} font-semibold flex-1 text-center">${score} 分 (${scoreLevel})</span>
                        </div>
                    <p class="text-sm text-neutral-light/70 mb-2">${dimensions[dimension].description}</p>
                    <p class="text-neutral-light/80">${dimensions[dimension].interpretation(score)}</p>
                `;
                
                dimensionsAnalysis.appendChild(dimensionCard);
            }
            
            // 更新专业建议
            const professionalAdvice = document.getElementById('professional-advice');
            
            // 找出得分最高的维度
            let highestDimension = '';
            let highestScore = 0;
            for (const dimension in dimensionAverages) {
                const score = parseFloat(dimensionAverages[dimension]);
                if (score > highestScore) {
                    highestScore = score;
                    highestDimension = dimension;
                }
            }
            
            // 根据得分情况生成建议
            let adviceHTML = '';
            
            if (totalScore <= 160) {
                adviceHTML = `
                    <p class="mb-3 text-neutral-light/80">您的测试结果显示心理健康状况良好，没有明显的心理症状困扰。建议：</p>
                    <ul class="space-y-2 text-neutral-light/80">
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span>继续保持当前的生活方式和心态</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span>定期进行自我心理评估，关注心理健康</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span>培养积极的应对策略，增强心理韧性</span>
                        </li>
                    </ul>
                `;
            } else if (totalScore <= 200) {
                adviceHTML = `
                    <p class="mb-3 text-neutral-light/80">您的测试结果显示可能存在一些轻微的心理症状，但总体上不影响日常生活。建议：</p>
                    <ul class="space-y-2 text-neutral-light/80">
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-blue-400 mt-1 mr-2"></i>
                            <span>关注自己的情绪变化，学习简单的情绪管理技巧</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-blue-400 mt-1 mr-2"></i>
                            <span>保持健康的生活方式，包括规律作息、均衡饮食和适度运动</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-blue-400 mt-1 mr-2"></i>
                            <span>增强社交支持，与亲友保持良好沟通</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-blue-400 mt-1 mr-2"></i>
                            <span>学习放松技巧，如深呼吸、冥想等，缓解压力</span>
                        </li>
                    </ul>
                `;
            } else if (totalScore <= 300) {
                adviceHTML = `
                    <p class="mb-3 text-neutral-light/80">您的测试结果显示可能存在较多的心理症状，建议关注自己的心理健康状况。建议：</p>
                    <ul class="space-y-2 text-neutral-light/80">
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-yellow-400 mt-1 mr-2"></i>
                            <span>寻求专业心理咨询，进行更全面的评估</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-yellow-400 mt-1 mr-2"></i>
                            <span>学习并实践压力管理和情绪调节技巧</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-yellow-400 mt-1 mr-2"></i>
                            <span>改善生活习惯，保证充足睡眠，减少咖啡因和酒精摄入</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-yellow-400 mt-1 mr-2"></i>
                            <span>增强社会支持网络，与亲友分享感受</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-yellow-400 mt-1 mr-2"></i>
                            <span>定期进行自我心理评估，监测症状变化</span>
                        </li>
                    </ul>
                `;
            } else {
                adviceHTML = `
                    <p class="mb-3 text-neutral-light/80">您的测试结果显示可能存在明显的心理困扰，建议尽快寻求专业帮助。建议：</p>
                    <ul class="space-y-2 text-neutral-light/80">
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-red-400 mt-1 mr-2"></i>
                            <span>尽快咨询精神科医生或专业心理咨询师，进行全面评估</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-red-400 mt-1 mr-2"></i>
                            <span>考虑专业治疗，如心理治疗或药物治疗（需医生评估）</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-red-400 mt-1 mr-2"></i>
                            <span>告知亲友您的情况，寻求情感支持</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-red-400 mt-1 mr-2"></i>
                            <span>避免自行用药或滥用酒精等物质应对症状</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-red-400 mt-1 mr-2"></i>
                            <span>如果出现自伤或伤人念头，请立即寻求紧急帮助</span>
                        </li>
                    </ul>
                `;
            }
            
            professionalAdvice.innerHTML = adviceHTML;
            
            // 创建雷达图
            const radarCtx = document.getElementById('radar-chart').getContext('2d');
            if (window.radarChart) {
                window.radarChart.destroy();
            }
            
            window.radarChart = new Chart(radarCtx, {
                type: 'radar',
                data: {
                    labels: Object.keys(dimensionAverages),
                    datasets: [{
                        label: '维度得分',
                        data: Object.values(dimensionAverages),
                        backgroundColor: 'rgba(156, 39, 176, 0.2)',
                        borderColor: 'rgba(156, 39, 176, 1)',
                        pointBackgroundColor: 'rgba(156, 39, 176, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(156, 39, 176, 1)'
                    }]
                },
                options: {
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 5,
                            ticks: {
                                stepSize: 1,
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            angleLines: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            pointLabels: {
                                color: 'rgba(255, 255, 255, 0.9)',
                                font: {
                                    size: 11
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
            
            // 创建柱状图
            const barCtx = document.getElementById('bar-chart').getContext('2d');
            if (window.barChart) {
                window.barChart.destroy();
            }
            
            window.barChart = new Chart(barCtx, {
                type: 'bar',
                data: {
                    labels: Object.keys(dimensionAverages),
                    datasets: [{
                        label: '维度得分',
                        data: Object.values(dimensionAverages),
                        backgroundColor: function(context) {
                            const value = context.dataset.data[context.dataIndex];
                            if (value <= 1.5) return 'rgba(76, 175, 80, 0.7)';
                            if (value <= 2.5) return 'rgba(33, 150, 243, 0.7)';
                            if (value <= 3.5) return 'rgba(255, 193, 7, 0.7)';
                            return 'rgba(244, 67, 54, 0.7)';
                        },
                        borderColor: function(context) {
                            const value = context.dataset.data[context.dataIndex];
                            if (value <= 1.5) return 'rgba(76, 175, 80, 1)';
                            if (value <= 2.5) return 'rgba(33, 150, 243, 1)';
                            if (value <= 3.5) return 'rgba(255, 193, 7, 1)';
                            return 'rgba(244, 67, 54, 1)';
                        },
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 5,
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)',
                                font: {
                                    size: 11
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // 初始化应用
        function initApp() {
            // 加载状态
            appState.loadFromLocalStorage();
            
            // 设置导航事件监听
            document.getElementById('nav-intro').addEventListener('click', () => navigateTo('page-intro'));
            document.getElementById('nav-test').addEventListener('click', () => navigateTo('page-test'));
            document.getElementById('nav-result').addEventListener('click', () => navigateTo('page-result'));
            document.getElementById('nav-info').addEventListener('click', () => navigateTo('page-info'));
            
            document.getElementById('mobile-nav-intro').addEventListener('click', () => navigateTo('page-intro'));
            document.getElementById('mobile-nav-test').addEventListener('click', () => navigateTo('page-test'));
            document.getElementById('mobile-nav-result').addEventListener('click', () => navigateTo('page-result'));
            document.getElementById('mobile-nav-info').addEventListener('click', () => navigateTo('page-info'));
            
            // 移动端菜单切换
            elements.mobileMenuBtn.addEventListener('click', () => {
                elements.mobileMenu.classList.toggle('hidden');
            });
            
            // 开始测试按钮
            elements.startTestBtn.addEventListener('click', () => {
                if (appState.isCodeVerified) {
                    navigateTo('page-test');
                    updateQuestionDisplay();
                } else {
                    navigateTo('page-verify');
                }
            });
            
            // 兑换码验证表单
            elements.verifyForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const codeInput = document.getElementById('code');
                const code = codeInput.value.trim();
                
                if (validCodes.includes(code)) {
                    appState.isCodeVerified = true;
                    appState.saveToLocalStorage();
                    elements.verifyError.classList.add('hidden');
                    navigateTo('page-test');
                    updateQuestionDisplay();
                } else {
                    elements.verifyError.classList.remove('hidden');
                }
            });
            
            // 题目导航按钮
            elements.prevBtn.addEventListener('click', () => {
                saveCurrentAnswer();
                appState.saveToLocalStorage();
                
                if (appState.currentQuestionIndex > 0) {
                    appState.currentQuestionIndex--;
                    updateQuestionDisplay();
                }
            });
            
            elements.nextBtn.addEventListener('click', () => {
                saveCurrentAnswer();
                
                // 如果是最后一题，检查是否所有题目都已完成
                if (appState.currentQuestionIndex === questions.length - 1) {
                    let allCompleted = true;
                    for (let i = 0; i < questions.length; i++) {
                        if (!appState.answers[i]) {
                            allCompleted = false;
                            break;
                        }
                    }
                    
                    if (allCompleted) {
                        appState.saveToLocalStorage();
                        navigateTo('page-result');
                        return;
                    } else {
                        showModal('提示', '请完成所有题目后再提交。');
                        return;
                    }
                }
                
                // 不是最后一题，继续下一题
                appState.currentQuestionIndex++;
                appState.saveToLocalStorage();
                updateQuestionDisplay();
            });
            
            // 重新测试按钮
            elements.restartTestBtn.addEventListener('click', () => {
                appState.resetTestState();
                navigateTo('page-test');
                updateQuestionDisplay();
            });
            
            // 模态框关闭按钮
            elements.closeModal.addEventListener('click', hideModal);
            
            // 初始化页面
            navigateTo(appState.currentPage);
            
            // 如果当前页面是测试页面，更新题目显示
            if (appState.currentPage === 'page-test') {
                updateQuestionDisplay();
            }
            
            // 如果当前页面是结果页面，计算并显示结果
            if (appState.currentPage === 'page-result') {
                calculateAndDisplayResults();
            }
        }

        // 当DOM加载完成后初始化应用
        document.addEventListener('DOMContentLoaded', initApp);
    </script>


</body></html>